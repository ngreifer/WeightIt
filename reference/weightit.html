<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate Balancing Weights — weightit • WeightIt</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate Balancing Weights — weightit" />
<meta property="og:description" content="weightit() allows for the easy generation of balancing weights using a variety of available methods for binary, continuous, and multi-category treatments. Many of these methods exist in other packages, which weightit() calls; these packages must be installed to use the desired method. Also included are print() and summary() methods for examining the output." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">WeightIt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.12.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/WeightIt.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ngreifer/WeightIt/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate Balancing Weights</h1>
    
    <div class="hidden name"><code>weightit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>weightit()</code> allows for the easy generation of balancing weights using a variety of available methods for binary, continuous, and multi-category treatments. Many of these methods exist in other packages, which <code>weightit()</code> calls; these packages must be installed to use the desired method. Also included are <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code> and <code><a href='https://rdrr.io/r/base/summary.html'>summary()</a></code> methods for examining the output.</p>
    </div>

    <pre class="usage"><span class='fu'>weightit</span><span class='op'>(</span><span class='va'>formula</span>,
         data <span class='op'>=</span> <span class='cn'>NULL</span>,
         method <span class='op'>=</span> <span class='st'>"ps"</span>,
         estimand <span class='op'>=</span> <span class='st'>"ATE"</span>,
         stabilize <span class='op'>=</span> <span class='cn'>FALSE</span>,
         focal <span class='op'>=</span> <span class='cn'>NULL</span>,
         by <span class='op'>=</span> <span class='cn'>NULL</span>,
         s.weights <span class='op'>=</span> <span class='cn'>NULL</span>,
         ps <span class='op'>=</span> <span class='cn'>NULL</span>,
         moments <span class='op'>=</span> <span class='cn'>NULL</span>,
         int <span class='op'>=</span> <span class='cn'>FALSE</span>,
         subclass <span class='op'>=</span> <span class='cn'>NULL</span>,
         missing <span class='op'>=</span> <span class='cn'>NULL</span>,
         verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
         include.obj <span class='op'>=</span> <span class='cn'>FALSE</span>,
         <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for weightit</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>a formula with a treatment variable on the left hand side and the covariates to be balanced on the right hand side. See <code><a href='https://rdrr.io/r/stats/glm.html'>glm()</a></code> for more details. Interactions and functions of covariates are allowed.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>an optional data set in the form of a data frame that contains the variables in <code>formula</code>.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>a string of length 1 containing the name of the method that will be used to estimate weights. See Details below for allowable options. The default is <code>"ps"</code> for propensity score weighting.</p></td>
    </tr>
    <tr>
      <th>estimand</th>
      <td><p>the desired estimand. For binary and multi-category treatments, can be <code>"ATE"</code>, <code>"ATT"</code>, <code>"ATC"</code>, and, for some methods, <code>"ATO"</code>, <code>"ATM"</code>, or <code>"ATOS"</code>. The default for both is <code>"ATE"</code>. This argument is ignored for continuous treatments. See the individual pages for each method for more information on which estimands are allowed with each method and what literature to read to interpret these estimands.</p></td>
    </tr>
    <tr>
      <th>stabilize</th>
      <td><p><code>logical</code>; whether or not to stabilize the weights. For the methods that involve estimating propensity scores, this involves multiplying each unit's weight by the proportion of units in their treatment group. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>focal</th>
      <td><p>when multi-category treatments are used and ATT weights are requested, which group to consider the "treated" or focal group. This group will not be weighted, and the other groups will be weighted to be more like the focal group. If specified, <code>estimand</code> will automatically be set to <code>"ATT"</code>.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>a string containing the name of the variable in <code>data</code> for which weighting is to be done within categories or a one-sided formula with the stratifying variable on the right-hand side. For example, if <code>by = "gender"</code> or <code>by = ~gender</code>, weights will be generated separately within each level of the variable <code>"gender"</code>. The argument used to be called <code>exact</code>, which will still work but with a message. Only one <code>by</code> variable is allowed; to stratify by multiply variables simultaneously, create a new variable that is a full cross of those variables using <code><a href='https://rdrr.io/r/base/interaction.html'>interaction()</a></code>.</p></td>
    </tr>
    <tr>
      <th>s.weights</th>
      <td><p>A vector of sampling weights or the name of a variable in <code>data</code> that contains sampling weights. These can also be matching weights if weighting is to be used on matched data. See the individual pages for each method for information on whether sampling weights can be supplied.</p></td>
    </tr>
    <tr>
      <th>ps</th>
      <td><p>A vector of propensity scores or the name of a variable in <code>data</code> containing propensity scores. If not <code>NULL</code>, <code>method</code> is ignored, and the propensity scores will be used to create weights. <code>formula</code> must include the treatment variable in <code>data</code>, but the listed covariates will play no role in the weight estimation. Using <code>ps</code> is similar to calling <code><a href='get_w_from_ps.html'>get_w_from_ps()</a></code> directly, but produces a full <code>weightit</code> object rather than just producing weights.</p></td>
    </tr>
    <tr>
      <th>moments</th>
      <td><p><code>numeric</code>; for some methods, the greatest power of each covariate to be balanced. For example, if <code>moments = 3</code>, for each non-categorical covariate, the covariate, its square, and its cube will be balanced. This argument is ignored for other methods; to balance powers of the covariates, appropriate functions must be entered in <code>formula</code>. See the individual pages for each method for information on whether they accept <code>moments</code>.</p></td>
    </tr>
    <tr>
      <th>int</th>
      <td><p><code>logical</code>; for some methods, whether first-order interactions of the covariates are to be balanced. This argument is ignored for other methods; to balance interactions between the variables, appropriate functions must be entered in <code>formula</code>. See the individual pages for each method for information on whether they accept <code>int</code>.</p></td>
    </tr>
    <tr>
      <th>subclass</th>
      <td><p><code>numeric</code>; the number of subclasses to use for computing weights using marginal mean weighting with subclasses (MMWS). If <code>NULL</code>, standard inverse probability weights (and their extensions) will be computed; if a number greater than 1, subclasses will be formed and weights will be computed based on subclass membership. Attempting to set a non-<code>NULL</code> value for methods that don't compute a propensity score will result in an error; see each method's help page for information on whether MMWS weights are compatible with the method. See <code><a href='get_w_from_ps.html'>get_w_from_ps()</a></code> for details and references.</p></td>
    </tr>
    <tr>
      <th>missing</th>
      <td><p><code>character</code>; how missing data should be handled. The options and defaults depend on the <code>method</code> used. Ignored if no missing data is present. It should be noted that multiple imputation outperforms all available missingness methods available in <code>weightit()</code> and should probably be used instead. Consider the <a href='https://CRAN.R-project.org/package=MatchThem'><span class="pkg">MatchThem</span></a> package for the use of <code>weightit()</code> with multiply imputed data.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>whether to print additional information output by the fitting function.</p></td>
    </tr>
    <tr>
      <th>include.obj</th>
      <td><p>whether to include in the output any fit objects created in the process of estimating the weights. For example, with <code>method = "ps"</code>, the <code>glm</code> objects containing the propensity score model will be included. See the individual pages for each method for information on what object will be included if <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments for functions called by <code>weightit()</code> that control aspects of fitting that are not covered by the above arguments. See Details.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>a <code>weightit</code> object; the output of a call to <code>weightit()</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>weightit</code> object with the following elements:</p>
<dt>weights</dt><dd><p>The estimated weights, one for each unit.</p></dd>
  <dt>treat</dt><dd><p>The values of the treatment variable.</p></dd>
  <dt>covs</dt><dd><p>The covariates used in the fitting. Only includes the raw covariates, which may have been altered in the fitting process.</p></dd>
  <dt>estimand</dt><dd><p>The estimand requested.</p></dd>
  <dt>method</dt><dd><p>The weight estimation method specified.</p></dd>
  <dt>ps</dt><dd><p>The estimated or provided propensity scores. Estimated propensity scores are returned for binary treatments and only when <code>method</code> is <code>"ps"</code>, <code>"gbm"</code>, <code>"cbps"</code>, <code>"super"</code>, or <code>"bart"</code>.</p></dd>
  <dt>s.weights</dt><dd><p>The provided sampling weights.</p></dd>
  <dt>focal</dt><dd><p>The focal variable if the ATT was requested with a multi-category treatment.</p></dd>
  <dt>by</dt><dd><p>A data.frame containing the <code>by</code> variable when specified.</p></dd>
  <dt>obj</dt><dd><p>When <code>include.obj = TRUE</code>, the fit object.</p></dd>
  <dt>info</dt><dd><p>Additional information about the fitting. See the individual methods pages for what is included.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The primary purpose of <code>weightit()</code> is as a dispatcher to functions that perform the estimation of balancing weights using the requested <code>method</code>. Below are the methods allowed and links to pages containing more information about them, including additional arguments and outputs (e.g., when <code>include.obj = TRUE</code>), how missing values are treated, which estimands are allowed, and whether sampling weights are allowed.</p><ul>
<li><p><code><a href='method_ps.html'>"ps"</a></code> - Propensity score weighting using generalized linear models.</p></li>
<li><p><code><a href='method_gbm.html'>"gbm"</a></code> - Propensity score weighting using generalized boosted modeling.</p></li>
<li><p><code><a href='method_cbps.html'>"cbps"</a></code> - Covariate Balancing Propensity Score weighting.</p></li>
<li><p><code><a href='method_npcbps.html'>"npcbps"</a></code> - Non-parametric Covariate Balancing Propensity Score weighting.</p></li>
<li><p><code><a href='method_ebal.html'>"ebal"</a></code> - Entropy balancing.</p></li>
<li><p><code><a href='method_ebcw.html'>"ebcw"</a></code> - Empirical balancing calibration weighting.</p></li>
<li><p><code><a href='method_optweight.html'>"optweight"</a></code> - Optimization-based weighting.</p></li>
<li><p><code><a href='method_super.html'>"super"</a></code> - Propensity score weighting using SuperLearner.</p></li>
<li><p><code><a href='method_bart.html'>"bart"</a></code> - Propensity score weighting using Bayesian additive regression trees (BART).</p></li>
<li><p><code><a href='method_energy.html'>"energy"</a></code> - Energy balancing.</p></li>
</ul>

<p><code>method</code> can also be supplied as a user-defined function; see <code><a href='method_user.html'>method_user</a></code> for instructions and examples.</p>
<p>When using <code>weightit()</code>, please cite both the <span class="pkg">WeightIt</span> package (using <code><a href='https://rdrr.io/r/utils/citation.html'>citation("WeightIt")</a></code>) and the paper(s) in the references section of the method used.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='weightitMSM.html'>weightitMSM()</a></code> for estimating weights with sequential (i.e., longitudinal) treatments for use in estimating marginal structural models (MSMs).</p>
<p><code><a href='weightit.fit.html'>weightit.fit()</a></code>, which is a lower-level dispatcher function that accepts a matrix of covariates and a vector of treatment statuses rather than a formula and data frame and performs minimal argument checking and processing. It may be useful for speeding up simulation studies for which the correct arguments are known. In general <code>weightit()</code> should be used.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Noah Greifer</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://ngreifer.github.io/cobalt/'>"cobalt"</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"lalonde"</span>, package <span class='op'>=</span> <span class='st'>"cobalt"</span><span class='op'>)</span>

<span class='co'>#Balancing covariates between treatment groups (binary)</span>
<span class='op'>(</span><span class='va'>W1</span> <span class='op'>&lt;-</span> <span class='fu'>weightit</span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>married</span> <span class='op'>+</span>
                  <span class='va'>nodegree</span> <span class='op'>+</span> <span class='va'>re74</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                method <span class='op'>=</span> <span class='st'>"ps"</span>, estimand <span class='op'>=</span> <span class='st'>"ATT"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; A <span style='font-style: italic;'>weightit</span> object
#&gt;  - method: "ps" (propensity score weighting)
#&gt;  - number of obs.: 614
#&gt;  - sampling weights: none
#&gt;  - treatment: 2-category
#&gt;  - estimand: ATT (focal: 1)
#&gt;  - covariates: age, educ, married, nodegree, re74</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>W1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                  <span style='text-decoration: underline;'>Summary of weights</span>
#&gt; 
#&gt; - <span style='font-style: italic;'>Weight ranges</span>:
#&gt; 
#&gt;            Min                                  Max
#&gt; treated 1.0000               ||              1.0000
#&gt; control 0.0222 |---------------------------| 2.0438
#&gt; 
#&gt; - <span style='font-style: italic;'>Units with 5 greatest weights by group</span>:
#&gt;                                            
#&gt;               7      5      4      3      1
#&gt;  treated      1      1      1      1      1
#&gt;             411    595    269    409    296
#&gt;  control 1.3303 1.4365 1.5005 1.6369 2.0438
#&gt; 
#&gt; - <span style='font-style: italic;'>Weight statistics</span>:
#&gt; 
#&gt;         Coef of Var   MAD Entropy # Zeros
#&gt; treated       0.000 0.000   -0.00       0
#&gt; control       0.823 0.701    0.33       0
#&gt; 
#&gt; - <span style='font-style: italic;'>Effective Sample Sizes</span>:
#&gt; 
#&gt;            Control Treated
#&gt; Unweighted  429.       185
#&gt; Weighted    255.99     185</div><div class='input'><span class='fu'><a href='https://ngreifer.github.io/cobalt/reference/bal.tab.html'>bal.tab</a></span><span class='op'>(</span><span class='va'>W1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='text-decoration: underline;'>Call</span>
#&gt;  weightit(formula = treat ~ age + educ + married + nodegree + 
#&gt;     re74, data = lalonde, method = "ps", estimand = "ATT")
#&gt; 
#&gt; <span style='text-decoration: underline;'>Balance Measures</span>
#&gt;                Type Diff.Adj
#&gt; prop.score Distance   0.0199
#&gt; age         Contin.   0.0459
#&gt; educ        Contin.  -0.0360
#&gt; married      Binary   0.0044
#&gt; nodegree     Binary   0.0080
#&gt; re74        Contin.  -0.0275
#&gt; 
#&gt; <span style='text-decoration: underline;'>Effective sample sizes</span>
#&gt;            Control Treated
#&gt; Unadjusted  429.       185
#&gt; Adjusted    255.99     185</div><div class='input'>
<span class='co'>#Balancing covariates with respect to race (multi-category)</span>
<span class='op'>(</span><span class='va'>W2</span> <span class='op'>&lt;-</span> <span class='fu'>weightit</span><span class='op'>(</span><span class='va'>race</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>married</span> <span class='op'>+</span>
                  <span class='va'>nodegree</span> <span class='op'>+</span> <span class='va'>re74</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                method <span class='op'>=</span> <span class='st'>"ebal"</span>, estimand <span class='op'>=</span> <span class='st'>"ATE"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; A <span style='font-style: italic;'>weightit</span> object
#&gt;  - method: "ebal" (entropy balancing)
#&gt;  - number of obs.: 614
#&gt;  - sampling weights: none
#&gt;  - treatment: 3-category (black, hispan, white)
#&gt;  - estimand: ATE
#&gt;  - covariates: age, educ, married, nodegree, re74</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>W2</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                  <span style='text-decoration: underline;'>Summary of weights</span>
#&gt; 
#&gt; - <span style='font-style: italic;'>Weight ranges</span>:
#&gt; 
#&gt;           Min                                  Max
#&gt; black  0.5530   |-------------------------| 5.3496
#&gt; hispan 0.1409 |----------------|            3.3322
#&gt; white  0.3979  |-------|                    1.9224
#&gt; 
#&gt; - <span style='font-style: italic;'>Units with 5 greatest weights by group</span>:
#&gt;                                           
#&gt;            226    244    485    181    182
#&gt;   black 2.5215 2.5491 2.8059 3.5551 5.3496
#&gt;            392    564    269    345    371
#&gt;  hispan 2.0467   2.53 2.6322 2.7049 3.3322
#&gt;             68    457    599    589    531
#&gt;   white 1.7106 1.7226 1.7426 1.7743 1.9224
#&gt; 
#&gt; - <span style='font-style: italic;'>Weight statistics</span>:
#&gt; 
#&gt;        Coef of Var   MAD Entropy # Zeros
#&gt; black        0.590 0.413   0.131       0
#&gt; hispan       0.609 0.440   0.163       0
#&gt; white        0.371 0.306   0.068       0
#&gt; 
#&gt; - <span style='font-style: italic;'>Effective Sample Sizes</span>:
#&gt; 
#&gt;             black hispan  white
#&gt; Unweighted 243.    72.   299.  
#&gt; Weighted   180.47  52.71 262.93</div><div class='input'><span class='fu'><a href='https://ngreifer.github.io/cobalt/reference/bal.tab.html'>bal.tab</a></span><span class='op'>(</span><span class='va'>W2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='text-decoration: underline;'>Call</span>
#&gt;  weightit(formula = race ~ age + educ + married + nodegree + re74, 
#&gt;     data = lalonde, method = "ebal", estimand = "ATE")
#&gt; 
#&gt; <span style='text-decoration: underline;'>Balance summary across all treatment pairs</span>
#&gt;             Type Max.Diff.Adj
#&gt; age      Contin.       0.0001
#&gt; educ     Contin.       0.0000
#&gt; married   Binary       0.0001
#&gt; nodegree  Binary       0.0001
#&gt; re74     Contin.       0.0001
#&gt; 
#&gt; <span style='text-decoration: underline;'>Effective sample sizes</span>
#&gt;             black hispan  white
#&gt; Unadjusted 243.    72.   299.  
#&gt; Adjusted   180.47  52.71 262.93</div><div class='input'>
<span class='co'>#Balancing covariates with respect to re75 (continuous)</span>
<span class='op'>(</span><span class='va'>W3</span> <span class='op'>&lt;-</span> <span class='fu'>weightit</span><span class='op'>(</span><span class='va'>re75</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>married</span> <span class='op'>+</span>
                  <span class='va'>nodegree</span> <span class='op'>+</span> <span class='va'>re74</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                method <span class='op'>=</span> <span class='st'>"cbps"</span>, over <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; A <span style='font-style: italic;'>weightit</span> object
#&gt;  - method: "cbps" (covariate balancing propensity score weighting)
#&gt;  - number of obs.: 614
#&gt;  - sampling weights: none
#&gt;  - treatment: continuous
#&gt;  - covariates: age, educ, married, nodegree, re74</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>W3</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                  <span style='text-decoration: underline;'>Summary of weights</span>
#&gt; 
#&gt; - <span style='font-style: italic;'>Weight ranges</span>:
#&gt; 
#&gt;        Min                                   Max
#&gt; all 0.0153 |---------------------------| 13.1553
#&gt; 
#&gt; - <span style='font-style: italic;'>Units with 5 greatest weights by group</span>:
#&gt;                                            
#&gt;         484     482     180     481     483
#&gt;  all 9.2225 10.8379 11.1353 11.9904 13.1553
#&gt; 
#&gt; - <span style='font-style: italic;'>Weight statistics</span>:
#&gt; 
#&gt;     Coef of Var   MAD Entropy # Zeros
#&gt; all       1.152 0.449   0.288       0
#&gt; 
#&gt; - <span style='font-style: italic;'>Effective Sample Sizes</span>:
#&gt; 
#&gt;             Total
#&gt; Unweighted 614.  
#&gt; Weighted   264.09</div><div class='input'><span class='fu'><a href='https://ngreifer.github.io/cobalt/reference/bal.tab.html'>bal.tab</a></span><span class='op'>(</span><span class='va'>W3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='text-decoration: underline;'>Call</span>
#&gt;  weightit(formula = re75 ~ age + educ + married + nodegree + re74, 
#&gt;     data = lalonde, method = "cbps", over = FALSE)
#&gt; 
#&gt; <span style='text-decoration: underline;'>Balance Measures</span>
#&gt;             Type Corr.Adj
#&gt; age      Contin.  -0.0002
#&gt; educ     Contin.  -0.0000
#&gt; married   Binary  -0.0002
#&gt; nodegree  Binary   0.0000
#&gt; re74     Contin.  -0.0003
#&gt; 
#&gt; <span style='text-decoration: underline;'>Effective sample sizes</span>
#&gt;             Total
#&gt; Unadjusted 614.  
#&gt; Adjusted   264.09</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


