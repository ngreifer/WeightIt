<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Methods for glm_weightit() objects — glm_weightit-methods • WeightIt</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Methods for glm_weightit() objects — glm_weightit-methods"><meta name="description" content="This page documents methods for objects returned by glm_weightit(), lm_weightit(), ordinal_weightit(), multinom_weightit(), and coxph_weightit(). predict() methods are described at predict.glm_weightit()."><meta property="og:description" content="This page documents methods for objects returned by glm_weightit(), lm_weightit(), ordinal_weightit(), multinom_weightit(), and coxph_weightit(). predict() methods are described at predict.glm_weightit()."><meta property="og:image" content="https://ngreifer.github.io/WeightIt/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WeightIt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/WeightIt.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/estimating-effects.html">Estimating Effects After Weighting</a></li>
    <li><a class="dropdown-item" href="../articles/installing-packages.html">Installing Supporting Packages</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/WeightIt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Methods for <code>glm_weightit()</code> objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/WeightIt/blob/master/R/glm_weightit-methods.R" class="external-link"><code>R/glm_weightit-methods.R</code></a></small>
      <div class="d-none name"><code>glm_weightit-methods.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This page documents methods for objects returned by <code><a href="glm_weightit.html">glm_weightit()</a></code>, <code><a href="glm_weightit.html">lm_weightit()</a></code>, <code><a href="glm_weightit.html">ordinal_weightit()</a></code>, <code><a href="glm_weightit.html">multinom_weightit()</a></code>, and <code><a href="glm_weightit.html">coxph_weightit()</a></code>. <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> methods are described at <code><a href="predict.glm_weightit.html">predict.glm_weightit()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'glm_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, ci <span class="op">=</span> <span class="cn">FALSE</span>, level <span class="op">=</span> <span class="fl">0.95</span>, transform <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'glm_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">3L</span>, <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"digits"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">3L</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'glm_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov</a></span><span class="op">(</span><span class="va">object</span>, complete <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'glm_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">parm</span>, level <span class="op">=</span> <span class="fl">0.95</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'glm_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">object2</span>, test <span class="op">=</span> <span class="st">"Chisq"</span>, method <span class="op">=</span> <span class="st">"Wald"</span>, tolerance <span class="op">=</span> <span class="fl">1e-07</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object-object-x">object, object2, x<a class="anchor" aria-label="anchor" href="#arg-object-object-x"></a></dt>
<dd><p>an output from one of the above modeling functions. For <code><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova()</a></code>, <code>object2</code> is required.</p></dd>


<dt id="arg-ci">ci<a class="anchor" aria-label="anchor" href="#arg-ci"></a></dt>
<dd><p><code>logical</code>; whether to display Wald confidence intervals for estimated coefficients. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>when <code>ci = TRUE</code>, the desired confidence level.</p></dd>


<dt id="arg-transform">transform<a class="anchor" aria-label="anchor" href="#arg-transform"></a></dt>
<dd><p>the function used to transform the coefficients, e.g., <code>exp</code> (which can also be supplied as a string, e.g., <code>"exp"</code>); passed to <code><a href="https://rdrr.io/r/base/match.fun.html" class="external-link">match.fun()</a></code> before being used on the coefficients. When <code>ci = TRUE</code>, this is also applied to the confidence interval bounds. If specified, the standard error will be omitted from the output. Default is no transformation.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>ignored.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>the number of <em>significant</em> digits to be
    passed to <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a>(<a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a>(x), .)</code> when
    <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a>()</code>ing.</p></dd>


<dt id="arg-complete">complete<a class="anchor" aria-label="anchor" href="#arg-complete"></a></dt>
<dd><p><code>logical</code>; whether the full variance-covariance matrix should be returned also in case of an over-determined system where some coefficients are undefined and <code>coef(.)</code> contains <code>NA</code>s correspondingly. When <code>complete = TRUE</code>, <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code> is compatible with <code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> also in this singular case.</p></dd>


<dt id="arg-parm">parm<a class="anchor" aria-label="anchor" href="#arg-parm"></a></dt>
<dd><p>a specification of which parameters are to be given
    confidence intervals, either a vector of numbers or a vector of
    names.  If missing, all parameters are considered.</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>the type of test statistic used to compare models. Currently only <code>"Chisq"</code> (the chi-square statistic) is allowed.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>the kind of test used to compare models. Currently only <code>"Wald"</code> is allowed.</p></dd>


<dt id="arg-tolerance">tolerance<a class="anchor" aria-label="anchor" href="#arg-tolerance"></a></dt>
<dd><p>for the Wald test, the tolerance used to determine if models are symbolically nested.</p></dd>


<dt id="arg-thresholds">thresholds<a class="anchor" aria-label="anchor" href="#arg-thresholds"></a></dt>
<dd><p><code>logical</code>; whether to include thresholds in the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> output for <code>ordinal_weightit</code> objects. Default is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> returns a <code>summary.glm_weightit()</code> object, which has its own print method. For <code><a href="glm_weightit.html">coxph_weightit()</a></code> objects, the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> and <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> methods are more like those for <code>glm</code> objects then for <code>coxph</code> objects.</p>
<p>Otherwise, all methods return the same type of object as their generics.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code> (which is called by <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>) simply extracts the covariance matrix already computed by the fitting function. <code><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint()</a></code> computes Wald confidence intervals (internally calling <code><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint.lm()</a></code>). The <code>estfun()</code> method for <code>multinom_weightit</code> and <code>ordinal_weightit</code> objects (which is used by function in the <span class="pkg">sandwich</span> package to compute coefficient covariance matrices) simply extracts the <code>gradient</code> component of the object. For <code>glm_weightit</code> and <code>coxph_weightit</code> objects, the <code>glm</code> and <code>coxph</code> methods are dispatched instead.</p>
<p><code><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova()</a></code> performs a Wald test to compare two fitted models. The models must be nested, but they don't have to be nested symbolically (i.e., the names of the coefficients of the smaller model do not have to be a subset of the names of the coefficients of the larger model). The larger model must be supplied to <code>object</code> and the smaller to <code>object2</code>. Both models must contain the same units, weights (if any), and outcomes. The variance-covariance matrix of the coefficients of the smaller model is not used, so it can be specified as <code>"none"</code> in the original model call. Otherwise, a warning be thrown if the covariances were computed using different methods.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="glm_weightit.html">glm_weightit()</a></code> for the page documenting <code><a href="glm_weightit.html">glm_weightit()</a></code>, <code><a href="glm_weightit.html">lm_weightit()</a></code>, <code><a href="glm_weightit.html">ordinal_weightit()</a></code>, <code><a href="glm_weightit.html">multinom_weightit()</a></code>, and <code><a href="glm_weightit.html">coxph_weightit()</a></code>. <code><a href="https://rdrr.io/r/stats/summary.glm.html" class="external-link">summary.glm()</a></code>, <a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov</a>, <code><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint()</a></code> for the relevant methods pages. <code><a href="predict.glm_weightit.html">predict.glm_weightit()</a></code> for computing predictions from the models.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## See more examples at ?glm_weightit</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"lalonde"</span>, package <span class="op">=</span> <span class="st">"cobalt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model comparison for any relationship between `treat`</span></span></span>
<span class="r-in"><span><span class="co"># and `re78` (not the same as testing for the ATE)</span></span></span>
<span class="r-in"><span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu"><a href="glm_weightit.html">glm_weightit</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">re78</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">*</span> <span class="op">(</span><span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span> <span class="va">nodegree</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                    <span class="va">re74</span> <span class="op">+</span> <span class="va">re75</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">lalonde</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="glm_weightit.html">glm_weightit</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">re78</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span> <span class="va">nodegree</span> <span class="op">+</span></span></span>
<span class="r-in"><span>    <span class="va">re74</span> <span class="op">+</span> <span class="va">re75</span>, data <span class="op">=</span> <span class="va">lalonde</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">fit1</span>, <span class="va">fit2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wald test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 1: re78 ~ treat * (age + educ + race + married + nodegree + re74 + re75)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 2: re78 ~ age + educ + race + married + nodegree + re74 + re75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Res.Df Df  Chisq Pr(&gt;Chisq)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    596                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    605  9 17.563    0.04059 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model comparison between spline model and linear</span></span></span>
<span class="r-in"><span><span class="co"># model; note they are nested but not symbolically</span></span></span>
<span class="r-in"><span><span class="co"># nested</span></span></span>
<span class="r-in"><span><span class="va">fit_s</span> <span class="op">&lt;-</span> <span class="fu"><a href="glm_weightit.html">glm_weightit</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">re78</span> <span class="op">~</span> <span class="fu">splines</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/splines/ns.html" class="external-link">ns</a></span><span class="op">(</span><span class="va">age</span>, df <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">lalonde</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit_l</span> <span class="op">&lt;-</span> <span class="fu"><a href="glm_weightit.html">glm_weightit</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">re78</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">lalonde</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">fit_s</span>, <span class="va">fit_l</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wald test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 1: re78 ~ splines::ns(age, df = 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 2: re78 ~ age</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Res.Df Df  Chisq Pr(&gt;Chisq)   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    609                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    612  3 14.166   0.002688 **</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

