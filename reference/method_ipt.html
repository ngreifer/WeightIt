<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Inverse Probability Tilting — method_ipt • WeightIt</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Inverse Probability Tilting — method_ipt"><meta name="description" content='This page explains the details of estimating weights using
inverse probability tilting by setting method = "ipt" in the call to
weightit() or weightitMSM(). This method can be used with binary and
multi-category treatments.
In general, this method relies on estimating propensity scores using a
modification of the usual generalized linear model score equations to enforce
balance and then converting those propensity scores into weights using a
formula that depends on the desired estimand. This method relies on code
written for WeightIt using rootSolve::multiroot().
Binary Treatments


For binary treatments, this method estimates the weights using formulas
described by Graham, Pinto, and Egel (2012). The following estimands are
allowed: ATE, ATT, and ATC. When the ATE is requested, the optimization is
run twice, once for each treatment group.



Multi-Category Treatments


For multi-category treatments, this method estimates the weights using
modifications of the formulas described by Graham, Pinto, and Egel (2012).
The following estimands are allowed: ATE and ATT. When the ATE is requested,
estimation is performed once for each treatment group. When the ATT is
requested, estimation is performed once for each non-focal (i.e., control)
group.



Continuous Treatments


Inverse probability tilting is not compatible with continuous treatments.



Longitudinal Treatments


For longitudinal treatments, the weights are the product of the weights
estimated at each time point. This method is not guaranteed to yield exact
balance at each time point. NOTE: the use of inverse probability tilting with longitudinal treatments has not been validated!



Sampling Weights


Sampling weights are supported through s.weights in all scenarios.



Missing Data


In the presence of missing data, the following value(s) for missing are allowed:
"ind" (default)
First, for each variable with missingness, a new missingness indicator variable is created which takes the value 1 if the original covariate is NA and 0 otherwise. The missingness indicators are added to the model formula as main effects. The missing values in the covariates are then replaced with the covariate medians (this value is arbitrary and does not affect estimation). The weight estimation then proceeds with this new formula and set of covariates. The covariates output in the resulting weightit object will be the original covariates with the NAs.







M-estimation


M-estimation is supported for all scenarios. See glm_weightit() and
vignette("estimating-effects") for details.

'><meta property="og:description" content='This page explains the details of estimating weights using
inverse probability tilting by setting method = "ipt" in the call to
weightit() or weightitMSM(). This method can be used with binary and
multi-category treatments.
In general, this method relies on estimating propensity scores using a
modification of the usual generalized linear model score equations to enforce
balance and then converting those propensity scores into weights using a
formula that depends on the desired estimand. This method relies on code
written for WeightIt using rootSolve::multiroot().
Binary Treatments


For binary treatments, this method estimates the weights using formulas
described by Graham, Pinto, and Egel (2012). The following estimands are
allowed: ATE, ATT, and ATC. When the ATE is requested, the optimization is
run twice, once for each treatment group.



Multi-Category Treatments


For multi-category treatments, this method estimates the weights using
modifications of the formulas described by Graham, Pinto, and Egel (2012).
The following estimands are allowed: ATE and ATT. When the ATE is requested,
estimation is performed once for each treatment group. When the ATT is
requested, estimation is performed once for each non-focal (i.e., control)
group.



Continuous Treatments


Inverse probability tilting is not compatible with continuous treatments.



Longitudinal Treatments


For longitudinal treatments, the weights are the product of the weights
estimated at each time point. This method is not guaranteed to yield exact
balance at each time point. NOTE: the use of inverse probability tilting with longitudinal treatments has not been validated!



Sampling Weights


Sampling weights are supported through s.weights in all scenarios.



Missing Data


In the presence of missing data, the following value(s) for missing are allowed:
"ind" (default)
First, for each variable with missingness, a new missingness indicator variable is created which takes the value 1 if the original covariate is NA and 0 otherwise. The missingness indicators are added to the model formula as main effects. The missing values in the covariates are then replaced with the covariate medians (this value is arbitrary and does not affect estimation). The weight estimation then proceeds with this new formula and set of covariates. The covariates output in the resulting weightit object will be the original covariates with the NAs.







M-estimation


M-estimation is supported for all scenarios. See glm_weightit() and
vignette("estimating-effects") for details.

'><meta property="og:image" content="https://ngreifer.github.io/WeightIt/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WeightIt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/WeightIt.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/estimating-effects.html">Estimating Effects After Weighting</a></li>
    <li><a class="dropdown-item" href="../articles/installing-packages.html">Installing Supporting Packages</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/WeightIt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Inverse Probability Tilting</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/WeightIt/blob/master/R/weightit2ipt.R" class="external-link"><code>R/weightit2ipt.R</code></a></small>
      <div class="d-none name"><code>method_ipt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This page explains the details of estimating weights using
inverse probability tilting by setting <code>method = "ipt"</code> in the call to
<code><a href="weightit.html">weightit()</a></code> or <code><a href="weightitMSM.html">weightitMSM()</a></code>. This method can be used with binary and
multi-category treatments.</p>
<p>In general, this method relies on estimating propensity scores using a
modification of the usual generalized linear model score equations to enforce
balance and then converting those propensity scores into weights using a
formula that depends on the desired estimand. This method relies on code
written for <span class="pkg">WeightIt</span> using <code><a href="https://rdrr.io/pkg/rootSolve/man/multiroot.html" class="external-link">rootSolve::multiroot()</a></code>.</p><div class="section">
<h3 id="binary-treatments">Binary Treatments<a class="anchor" aria-label="anchor" href="#binary-treatments"></a></h3>


<p>For binary treatments, this method estimates the weights using formulas
described by Graham, Pinto, and Egel (2012). The following estimands are
allowed: ATE, ATT, and ATC. When the ATE is requested, the optimization is
run twice, once for each treatment group.</p>
</div>

<div class="section">
<h3 id="multi-category-treatments">Multi-Category Treatments<a class="anchor" aria-label="anchor" href="#multi-category-treatments"></a></h3>


<p>For multi-category treatments, this method estimates the weights using
modifications of the formulas described by Graham, Pinto, and Egel (2012).
The following estimands are allowed: ATE and ATT. When the ATE is requested,
estimation is performed once for each treatment group. When the ATT is
requested, estimation is performed once for each non-focal (i.e., control)
group.</p>
</div>

<div class="section">
<h3 id="continuous-treatments">Continuous Treatments<a class="anchor" aria-label="anchor" href="#continuous-treatments"></a></h3>


<p>Inverse probability tilting is not compatible with continuous treatments.</p>
</div>

<div class="section">
<h3 id="longitudinal-treatments">Longitudinal Treatments<a class="anchor" aria-label="anchor" href="#longitudinal-treatments"></a></h3>


<p>For longitudinal treatments, the weights are the product of the weights
estimated at each time point. This method is not guaranteed to yield exact
balance at each time point. <strong>NOTE: the use of inverse probability tilting with longitudinal treatments has not been validated!</strong></p>
</div>

<div class="section">
<h3 id="sampling-weights">Sampling Weights<a class="anchor" aria-label="anchor" href="#sampling-weights"></a></h3>


<p>Sampling weights are supported through <code>s.weights</code> in all scenarios.</p>
</div>

<div class="section">
<h3 id="missing-data">Missing Data<a class="anchor" aria-label="anchor" href="#missing-data"></a></h3>


<p>In the presence of missing data, the following value(s) for <code>missing</code> are allowed:</p><dl><dt><code>"ind"</code> (default)</dt>
<dd><p>First, for each variable with missingness, a new missingness indicator variable is created which takes the value 1 if the original covariate is <code>NA</code> and 0 otherwise. The missingness indicators are added to the model formula as main effects. The missing values in the covariates are then replaced with the covariate medians (this value is arbitrary and does not affect estimation). The weight estimation then proceeds with this new formula and set of covariates. The covariates output in the resulting <code>weightit</code> object will be the original covariates with the <code>NA</code>s.</p></dd>


</dl></div>

<div class="section">
<h3 id="m-estimation">M-estimation<a class="anchor" aria-label="anchor" href="#m-estimation"></a></h3>


<p>M-estimation is supported for all scenarios. See <code><a href="glm_weightit.html">glm_weightit()</a></code> and
<code><a href="../articles/estimating-effects.html">vignette("estimating-effects")</a></code> for details.</p>
</div>

    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Inverse probability tilting (IPT) involves specifying estimating
equations that fit the parameters of two or more generalized linear models
with a modification that ensures exact balance on the covariate means. These
estimating equations are solved, and the estimated parameters are used in the
(generalized) propensity score, which is used to compute the weights.
Conceptually and mathematically, IPT is very similar to entropy balancing and
just-identified CBPS. For the ATT and ATC, entropy balancing, just-identified
CBPS, and IPT will yield identical results. For the ATE or when <code>link</code> is
specified as something other than <code>"logit"</code>, the three methods differ.</p>
<p>Treatment effect estimates for binary treatments are consistent if the true
propensity score is a logistic regression or the outcome model is linear in
the covariates and their interaction with treatments. For entropy balancing,
this is only true for the ATT, and for just-identified CBPS, this is only
true if there is no effect modification by covariates. In this way, IPT
provides additional theoretical guarantees over the other two methods, though
potentially with some cost in precision.</p>
    </div>
    <div class="section level2">
    <h2 id="additional-arguments">Additional Arguments<a class="anchor" aria-label="anchor" href="#additional-arguments"></a></h2>



<dl><dt><code>moments</code></dt>
<dd><p><code>integer</code>; the highest power of each covariate to be balanced. For example, if <code>moments = 3</code>, each covariate, its square, and its cube will be balanced. Can also be a named vector with a value for each covariate (e.g., <code>moments = c(x1 = 2, x2 = 4)</code>). Values greater than 1 for categorical covariates are ignored. Default is 1 to balance covariate means.</p></dd>

<dt><code>int</code></dt>
<dd><p><code>logical</code>; whether first-order interactions of the covariates are to be balanced. Default is <code>FALSE</code>.</p></dd>

<dt><code>quantile</code></dt>
<dd><p>a named list of quantiles (values between 0 and 1) for each continuous covariate, which are used to create additional variables that when balanced ensure balance on the corresponding quantile of the variable. For example, setting <code>quantile = list(x1 = c(.25, .5. , .75))</code> ensures the 25th, 50th, and 75th percentiles of <code>x1</code> in each treatment group will be balanced in the weighted sample. Can also be a single number (e.g., <code>.5</code>) or a vector (e.g., <code>c(.25, .5, .75)</code>) to request the same quantile(s) for all continuous covariates.</p></dd>

<dt><code>link</code></dt>
<dd><p>the link used to determine the inverse link for computing the (generalized) propensity scores. Default is <code>"logit"</code>, which is used in the original description of the method by Graham, Pinto, and Egel (2012), but <code>"probit"</code>, <code>"cauchit"</code>, <code>"cloglog"</code>, <code>"loglog"</code>, <code>"log"</code>, and <code>"clog"</code> are also allowed. Note that negative weights are possible with these last two and they should be used with caution. An object of class <code>"link-glm"</code> can also be supplied. The argument is passed to <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">quasibinomial()</a></code>.</p></dd>


</dl><p>The <code>stabilize</code> argument is ignored.</p>
    </div>
    <div class="section level2">
    <h2 id="additional-outputs">Additional Outputs<a class="anchor" aria-label="anchor" href="#additional-outputs"></a></h2>


<dl><dt><code>obj</code></dt>
<dd><p>When <code>include.obj = TRUE</code>, the output of the call to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code>, which contains the coefficient estimates and convergence information. For ATE fits or with multi-category treatments, a list of <code><a href="https://rdrr.io/pkg/rootSolve/man/multiroot.html" class="external-link">rootSolve::multiroot()</a></code> outputs, one for each weighted group.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<div class="section">
<h3 id="estimand-ate-"><code>estimand = "ATE"</code><a class="anchor" aria-label="anchor" href="#estimand-ate-"></a></h3>


<p>Graham, B. S., De Xavier Pinto, C. C., &amp; Egel, D. (2012). Inverse Probability
Tilting for Moment Condition Models with Missing Data. <em>The Review of Economic Studies</em>, 79(3), 1053–1079. <a href="https://doi.org/10.1093/restud/rdr047" class="external-link">doi:10.1093/restud/rdr047</a></p>
</div>

<div class="section">
<h3 id="estimand-att-"><code>estimand = "ATT"</code><a class="anchor" aria-label="anchor" href="#estimand-att-"></a></h3>


<p>Sant'Anna, P. H. C., &amp; Zhao, J. (2020). Doubly robust difference-in-differences estimators. <em>Journal of Econometrics</em>, 219(1), 101–122. <a href="https://doi.org/10.1016/j.jeconom.2020.06.003" class="external-link">doi:10.1016/j.jeconom.2020.06.003</a></p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="weightit.html">weightit()</a></code>, <code><a href="weightitMSM.html">weightitMSM()</a></code></p>
<p><a href="method_ebal.html">method_ebal</a> and <a href="method_cbps.html">method_cbps</a> for entropy balancing and CBPS, which work
similarly.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"lalonde"</span>, package <span class="op">=</span> <span class="st">"cobalt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Balancing covariates between treatment groups (binary)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">W1</span> <span class="op">&lt;-</span> <span class="fu"><a href="weightit.html">weightit</a></span><span class="op">(</span><span class="va">treat</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                  <span class="va">nodegree</span> <span class="op">+</span> <span class="va">re74</span>, data <span class="op">=</span> <span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                method <span class="op">=</span> <span class="st">"ipt"</span>, estimand <span class="op">=</span> <span class="st">"ATT"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A <span style="font-style: italic;">weightit</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - method: "ipt" (inverse probability tilting)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - number of obs.: 614</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - sampling weights: none</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - treatment: 2-category</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - estimand: ATT (focal: 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - covariates: age, educ, married, nodegree, re74</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">W1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   <span style="text-decoration: underline;">Summary of weights</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Weight ranges</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Min                                 Max</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> treated 1.                 ||               1.   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> control 0.017 |---------------------------| 2.263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Units with the 5 most extreme weights by group</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              1     2     3     4     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  treated     1     1     1     1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            410   404   224   111    84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  control 1.464 1.485 1.576 1.743 2.263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Weight statistics</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Coef of Var   MAD Entropy # Zeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> treated       0.000 0.000   0.000       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> control       0.839 0.707   0.341       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Effective Sample Sizes</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Control Treated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unweighted  429.       185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Weighted    252.12     185</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cobalt</span><span class="fu">::</span><span class="fu"><a href="https://ngreifer.github.io/cobalt/reference/bal.tab.html" class="external-link">bal.tab</a></span><span class="op">(</span><span class="va">W1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Balance Measures</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Type Diff.Adj</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> prop.score Distance   0.0164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age         Contin.  -0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> educ        Contin.   0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> married      Binary  -0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nodegree     Binary  -0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> re74        Contin.  -0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Effective sample sizes</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Control Treated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unadjusted  429.       185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adjusted    252.12     185</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Balancing covariates with respect to race (multi-category)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">W2</span> <span class="op">&lt;-</span> <span class="fu"><a href="weightit.html">weightit</a></span><span class="op">(</span><span class="va">race</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                  <span class="va">nodegree</span> <span class="op">+</span> <span class="va">re74</span>, data <span class="op">=</span> <span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                method <span class="op">=</span> <span class="st">"ipt"</span>, estimand <span class="op">=</span> <span class="st">"ATE"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A <span style="font-style: italic;">weightit</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - method: "ipt" (inverse probability tilting)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - number of obs.: 614</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - sampling weights: none</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - treatment: 3-category (black, hispan, white)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - estimand: ATE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - covariates: age, educ, married, nodegree, re74</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">W2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   <span style="text-decoration: underline;">Summary of weights</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Weight ranges</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          Min                                  Max</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> black  1.57   |------------|               15.787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hispan 1.711  |--------------------------| 29.07 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> white  1.102 |--|                           4.693</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Units with the 5 most extreme weights by group</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            203    166    163   153    152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   black  6.567   6.77  7.096 9.976 15.787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             67     43     39    36     28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  hispan 17.436 21.673 23.033 24.23  29.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            291    285    258   205      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   white  3.841  3.912  3.934 4.177  4.693</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Weight statistics</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Coef of Var   MAD Entropy # Zeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> black        0.618 0.398   0.133       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hispan       0.618 0.442   0.164       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> white        0.389 0.316   0.070       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - <span style="font-style: italic;">Effective Sample Sizes</span>:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             black hispan  white</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unweighted 243.     72.  299.  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Weighted   176.11   52.3 259.76</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cobalt</span><span class="fu">::</span><span class="fu"><a href="https://ngreifer.github.io/cobalt/reference/bal.tab.html" class="external-link">bal.tab</a></span><span class="op">(</span><span class="va">W2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Balance summary across all treatment pairs</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Type Max.Diff.Adj</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age      Contin.            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> educ     Contin.            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> married   Binary            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nodegree  Binary            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> re74     Contin.            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Effective sample sizes</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             black hispan  white</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unadjusted 243.     72.  299.  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adjusted   176.11   52.3 259.76</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

