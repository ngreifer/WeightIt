<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Weighting methods — .weightit_methods • WeightIt</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Weighting methods — .weightit_methods"><meta name="description" content=".weightit_methods is a list containing the allowable weighting
methods that can be supplied by name to the method argument of
weightit(), weightitMSM(), and weightit.fit(). Each entry corresponds
to an allowed method and contains information about what options are and
are not allowed for each method. While this list is primarily for internal
use by checking functions in WeightIt, it might be of use for package
authors that want to support different weighting methods."><meta property="og:description" content=".weightit_methods is a list containing the allowable weighting
methods that can be supplied by name to the method argument of
weightit(), weightitMSM(), and weightit.fit(). Each entry corresponds
to an allowed method and contains information about what options are and
are not allowed for each method. While this list is primarily for internal
use by checking functions in WeightIt, it might be of use for package
authors that want to support different weighting methods."><meta property="og:image" content="https://ngreifer.github.io/WeightIt/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WeightIt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/WeightIt.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/estimating-effects.html">Estimating Effects After Weighting</a></li>
    <li><a class="dropdown-item" href="../articles/installing-packages.html">Installing Supporting Packages</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/WeightIt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Weighting methods</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/WeightIt/blob/master/R/weightit_methods.R" class="external-link"><code>R/weightit_methods.R</code></a></small>
      <div class="d-none name"><code>dot-weightit_methods.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>.weightit_methods</code> is a list containing the allowable weighting
methods that can be supplied by name to the <code>method</code> argument of
<code><a href="weightit.html">weightit()</a></code>, <code><a href="weightitMSM.html">weightitMSM()</a></code>, and <code><a href="weightit.fit.html">weightit.fit()</a></code>. Each entry corresponds
to an allowed method and contains information about what options are and
are not allowed for each method. While this list is primarily for internal
use by checking functions in <span class="pkg">WeightIt</span>, it might be of use for package
authors that want to support different weighting methods.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="va">.weightit_methods</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>An object of class <code>list</code> of length 10.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each component is itself a list containing the following components:</p><dl><dt><code>treat_type</code></dt>
<dd><p>at least one of <code>"binary"</code>, <code>"multi-category"</code>, or
<code>"continuous"</code> indicating which treatment types are
available for this method.</p></dd>

<dt><code>estimand</code></dt>
<dd><p>which estimands are available for this method. All methods that support binary and multi-category treatments accept <code>"ATE"</code>, <code>"ATT"</code>, and <code>"ATC"</code>, as well as some other estimands depending on the method. See <code><a href="get_w_from_ps.html">get_w_from_ps()</a></code> for more details about what each estimand means.</p></dd>

<dt><code>alias</code></dt>
<dd><p>a character vector of aliases for the method. When an alias is supplied, the corresponding method will still be dispatched. For example, the canonical method to request entropy balancing is <code>"ebal"</code>, but <code>"ebalance"</code> and <code>"entropy"</code> also work. The first value is the canonical name.</p></dd>

<dt><code>description</code></dt>
<dd><p>a string containing the description of the name in English.</p></dd>

<dt><code>ps</code></dt>
<dd><p>a logical for whether propensity scores are returned by the method for binary treatments. Propensity scores are never returned for multi-category or continuous treatments.</p></dd>

<dt><code>msm_valid</code></dt>
<dd><p>a logical for whether the method can be validly used with longitudinal treatments.</p></dd>

<dt><code>msm_method_available</code></dt>
<dd><p>a logical for whether a version of the method can be used that estimates weights using a single model rather than multiplying the weights across time points. This is related to the <code>is.MSM.method</code> argument of <code><a href="weightitMSM.html">weightitMSM()</a></code>.</p></dd>

<dt><code>subclass_ok</code></dt>
<dd><p>a logical for whether <code>subclass</code> can be supplied to compute subclassification weights from the propensity scores.</p></dd>

<dt><code>packages_needed</code></dt>
<dd><p>a character vector of the minimal packages required to use the method. Some methods may require additional packages for certain options.</p></dd>

<dt><code>s.weights_ok</code></dt>
<dd><p>a logical for whether sampling weights can be used with the method.</p></dd>

<dt><code>missing</code></dt>
<dd><p>a character vector of the allowed options that can be supplied to <code>missing</code> when missing data is present. All methods accept <code>"ind"</code> for the missingness indicator approach; some other methods accept additional values.</p></dd>

<dt><code>moments_int_ok</code></dt>
<dd><p>a logical for whether <code>moments</code>, <code>int</code>, and <code>quantile</code> can be used with the method.</p></dd>

<dt><code>moments_default</code></dt>
<dd><p>when <code>moments_int_ok</code> is <code>TRUE</code>, the default value of <code>moments</code> used with the method. For most methods, this is 1.</p></dd>

<dt><code>density_ok</code></dt>
<dd><p>a logical for whether arguments that control the density can be used with the method when used with a continuous treatment.</p></dd>

<dt><code>stabilize_ok</code></dt>
<dd><p>a logical for whether the <code>stabilize</code> argument (and <code>num.formula</code> for longitudinal treatments) can be used with the method.</p></dd>

<dt><code>plot.weightit_ok</code></dt>
<dd><p>a logical for whether <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> can be used on the <code>weightit</code> output with the method.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="weightit.html">weightit()</a></code> and <code><a href="weightitMSM.html">weightitMSM()</a></code> for how the methods are used. Also
see the individual methods pages for information on whether and how each
option can be used.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get all acceptable names</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.weightit_methods</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "glm"       "bart"      "cbps"      "ebal"      "energy"    "gbm"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "ipt"       "npcbps"    "optweight" "super"    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get all acceptable names and aliases</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">.weightit_methods</span>, <span class="va">`[[`</span>, <span class="st">"alias"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $glm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "glm" "ps" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bart</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "bart"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cbps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cbps"  "cbgps"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ebal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ebal"     "ebalance" "entropy" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $energy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "energy" "dcows" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gbm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gbm" "gbr"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ipt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ipt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $npcbps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "npcbps"  "npcbgps"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $optweight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "optweight" "sbw"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $super</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "super"        "superlearner"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Which estimands are allowed with `method = "bart"`</span></span></span>
<span class="r-in"><span><span class="va">.weightit_methods</span><span class="op">[[</span><span class="st">"bart"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">estimand</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ATE"  "ATT"  "ATC"  "ATO"  "ATM"  "ATOS"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># All methods that support continuous treatments</span></span></span>
<span class="r-in"><span><span class="va">supp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">.weightit_methods</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="st">"continuous"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">x</span><span class="op">$</span><span class="va">treat_type</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.weightit_methods</span><span class="op">)</span><span class="op">[</span><span class="va">supp</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "glm"       "bart"      "cbps"      "ebal"      "energy"    "gbm"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "npcbps"    "optweight" "super"    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># All methods that return propensity scores (for</span></span></span>
<span class="r-in"><span><span class="co"># binary treatments only)</span></span></span>
<span class="r-in"><span><span class="va">supp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">.weightit_methods</span>, <span class="va">`[[`</span>, <span class="st">"ps"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.weightit_methods</span><span class="op">)</span><span class="op">[</span><span class="va">supp</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "glm"   "bart"  "cbps"  "gbm"   "ipt"   "super"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

