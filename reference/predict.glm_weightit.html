<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Predictions for glm_weightit objects — predict.glm_weightit • WeightIt</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predictions for glm_weightit objects — predict.glm_weightit"><meta name="description" content="predict() generates predictions for models fit using
glm_weightit(), ordinal_weightit(), multinom_weightit(), or
coxph_weightit(). This page only details the predict() methods after
using glm_weightit(), ordinal_weightit(), or multinom_weightit(). See
survival::predict.coxph() for predictions when fitting Cox proportional
hazards models using coxph_weightit()."><meta property="og:description" content="predict() generates predictions for models fit using
glm_weightit(), ordinal_weightit(), multinom_weightit(), or
coxph_weightit(). This page only details the predict() methods after
using glm_weightit(), ordinal_weightit(), or multinom_weightit(). See
survival::predict.coxph() for predictions when fitting Cox proportional
hazards models using coxph_weightit()."><meta property="og:image" content="https://ngreifer.github.io/WeightIt/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WeightIt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/WeightIt.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/estimating-effects.html">Estimating Effects After Weighting</a></li>
    <li><a class="dropdown-item" href="../articles/installing-packages.html">Installing Supporting Packages</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/WeightIt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Predictions for <code>glm_weightit</code> objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/WeightIt/blob/master/R/predict.glm_weightit.R" class="external-link"><code>R/predict.glm_weightit.R</code></a></small>
      <div class="d-none name"><code>predict.glm_weightit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> generates predictions for models fit using
<code><a href="glm_weightit.html">glm_weightit()</a></code>, <code><a href="glm_weightit.html">ordinal_weightit()</a></code>, <code><a href="glm_weightit.html">multinom_weightit()</a></code>, or
<code><a href="glm_weightit.html">coxph_weightit()</a></code>. This page only details the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> methods after
using <code><a href="glm_weightit.html">glm_weightit()</a></code>, <code><a href="glm_weightit.html">ordinal_weightit()</a></code>, or <code><a href="glm_weightit.html">multinom_weightit()</a></code>. See
<code><a href="https://rdrr.io/pkg/survival/man/predict.coxph.html" class="external-link">survival::predict.coxph()</a></code> for predictions when fitting Cox proportional
hazards models using <code><a href="glm_weightit.html">coxph_weightit()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'glm_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">object</span>, newdata <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="st">"response"</span>, na.action <span class="op">=</span> <span class="va">na.pass</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ordinal_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  newdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"response"</span>,</span>
<span>  na.action <span class="op">=</span> <span class="va">na.pass</span>,</span>
<span>  values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'multinom_weightit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  newdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"response"</span>,</span>
<span>  na.action <span class="op">=</span> <span class="va">na.pass</span>,</span>
<span>  values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>a <code>glm_weightit</code> object.</p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>optionally, a data frame in which to look for variables with
which to predict. If omitted, the fitted values applied to the original
dataset are used.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>the type of prediction desired. Allowable options include
<code>"response"</code>, for predictions on the scale of the original response variable
(also <code>"probs"</code>); <code>"link"</code>, for predictions on the scale of the linear
predictor (also <code>"lp"</code>); <code>"class"</code>, for the modal predicted category for
ordinal and multinomial models; <code>"mean"</code>, for the expected value of the
outcome for ordinal and multinomial models; and <code>"stdlv"</code>, for the standardized latent variable values for ordinal models. See Details for more information. The default is <code>"response"</code> for all models, which differs from <code><a href="https://rdrr.io/r/stats/predict.glm.html" class="external-link">stats::predict.glm()</a></code>.</p></dd>


<dt id="arg-na-action">na.action<a class="anchor" aria-label="anchor" href="#arg-na-action"></a></dt>
<dd><p>function determining what should be done with missing values
in <code>newdata</code>. The default is to predict <code>NA</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further arguments passed to or from other methods.</p></dd>


<dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>when <code>type = "mean"</code>, the numeric values each level corresponds
to. Should be supplied as a named vector with outcome levels as the names.
If <code>NULL</code> and the outcome levels can be converted to numeric, those will be
used. See Details.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>when <code>type = "response"</code> for ordinal and multinomial models, an optional string or number corresponding to the outcome level for which the predictions are to be produced. If <code>NULL</code> (the default), a matrix of predictions for all levels will be produced.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric vector containing the desired predictions, except for the
following circumstances when an ordinal or multinomial model was fit:</p><ul><li><p>when <code>type = "response"</code> and <code>levels = NULL</code>, a numeric matrix with a row for each unit and
a column for each level of the outcome with the predicted probability of
the corresponding outcome in the cells</p></li>
<li><p>when <code>type = "class"</code>, a factor with the modal predicted class for each
unit; for ordinal models, this will be an ordered factor.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For generalized linear models other than ordinal and multinomial
models, see <code><a href="https://rdrr.io/r/stats/predict.glm.html" class="external-link">stats::predict.glm()</a></code> for more information on how predictions
are computed and which arguments can be specified. Note that standard errors
cannot be computed for the predictions using <code>predict.glm_weightit()</code>.</p>
<p>For ordinal and multinomial models, setting <code>type = "mean"</code> computes the
expected value of the outcome for each unit; this corresponds to the sum of
the values supplied in <code>values</code> weighted by the predicted probability of
those values. If <code>values</code> is omitted, <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> will attempt to convert the
outcome levels to numeric values, and if this cannot be done, an error will
be thrown. <code>values</code> should be specified as a named vector, e.g.,
<code>values = c(one = 1, two = 2, three = 3)</code>, where <code>"one"</code>, <code>"two"</code>, and <code>"three"</code> are
the original outcome levels, and 1, 2, and 3 are the numeric values they
correspond to. This method only makes sense to use if the outcome levels
meaningfully correspond to numeric values.</p>
<p>For ordinal models, setting <code>type = "link"</code> (also <code>"lp"</code>) computes the linear
predictor without including the thresholds. This can be interpreted as the
prediction of the latent variable underlying the ordinal response. This
cannot be used with multinomial models. Setting <code>type = "stdlv"</code> standardizes these predictions by the implied standard deviation of the ordinal responses, which is a function of the link function, the original covariates, and the coefficient estimates.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/stats/predict.glm.html" class="external-link">stats::predict.glm()</a></code> for predictions from generalized linear
models. <code><a href="glm_weightit.html">glm_weightit()</a></code> for the fitting function.
<code><a href="https://rdrr.io/pkg/survival/man/predict.coxph.html" class="external-link">survival::predict.coxph()</a></code> for predictions from Cox proportional hazards
models.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"lalonde"</span>, package <span class="op">=</span> <span class="st">"cobalt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Logistic regression model</span></span></span>
<span class="r-in"><span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu"><a href="glm_weightit.html">glm_weightit</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">re78</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">*</span> <span class="op">(</span><span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                        <span class="va">re74</span> <span class="op">+</span> <span class="va">re75</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">lalonde</span>, family <span class="op">=</span> <span class="va">binomial</span>, vcov <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.2747  0.6986  0.7868  0.7671  0.8429  1.0000 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># G-computation using predicted probabilities</span></span></span>
<span class="r-in"><span><span class="va">p0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit1</span>, type <span class="op">=</span> <span class="st">"response"</span>,</span></span>
<span class="r-in"><span>              newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                                  treat <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit1</span>, type <span class="op">=</span> <span class="st">"response"</span>,</span></span>
<span class="r-in"><span>              newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                                  treat <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0921469</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multinomial logistic regression model</span></span></span>
<span class="r-in"><span><span class="va">lalonde</span><span class="op">$</span><span class="va">re78_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/findInterval.html" class="external-link">findInterval</a></span><span class="op">(</span><span class="va">lalonde</span><span class="op">$</span><span class="va">re78</span>,</span></span>
<span class="r-in"><span>                                      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5e3</span>, <span class="fl">1e4</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"med"</span>, <span class="st">"high"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="glm_weightit.html">multinom_weightit</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">re78_3</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">*</span> <span class="op">(</span><span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                      <span class="va">re74</span> <span class="op">+</span> <span class="va">re75</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">lalonde</span>, vcov <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predicted probabilities</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         low       med      high</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.4897563 0.1814665 0.3287772</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.5027746 0.3133358 0.1838896</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.5453691 0.1974158 0.2572151</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.5809239 0.2219530 0.1971231</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.5964825 0.2995950 0.1039225</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 0.6217877 0.2666334 0.1115788</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predicted probabilities for a single level</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit2</span>, level <span class="op">=</span> <span class="st">"low"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1         2         3         4         5         6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.4897563 0.5027746 0.5453691 0.5809239 0.5964825 0.6217877 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Class assignment accuracy</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit2</span>, type <span class="op">=</span> <span class="st">"class"</span><span class="op">)</span> <span class="op">==</span> <span class="va">lalonde</span><span class="op">$</span><span class="va">re78_3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5635179</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># G-computation using expected value of the outcome</span></span></span>
<span class="r-in"><span><span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span> <span class="op">=</span> <span class="fl">2500</span>,</span></span>
<span class="r-in"><span>            <span class="st">"med"</span> <span class="op">=</span> <span class="fl">7500</span>,</span></span>
<span class="r-in"><span>            <span class="st">"high"</span> <span class="op">=</span> <span class="fl">12500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit2</span>, type <span class="op">=</span> <span class="st">"mean"</span>, values <span class="op">=</span> <span class="va">values</span>,</span></span>
<span class="r-in"><span>              newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                                  treat <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit2</span>, type <span class="op">=</span> <span class="st">"mean"</span>, values <span class="op">=</span> <span class="va">values</span>,</span></span>
<span class="r-in"><span>              newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                                  treat <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 677.4256</span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Ordinal logistic regression</span></span></span>
<span class="r-in"><span><span class="va">fit3</span> <span class="op">&lt;-</span> <span class="fu"><a href="glm_weightit.html">ordinal_weightit</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">re78</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">*</span> <span class="op">(</span><span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                    <span class="va">re74</span> <span class="op">+</span> <span class="va">re75</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">lalonde</span>, vcov <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># G-computation using expected value of the outcome;</span></span></span>
<span class="r-in"><span><span class="co"># using original outcome values</span></span></span>
<span class="r-in"><span><span class="va">p0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit3</span>, type <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>              newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                                  treat <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit3</span>, type <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>              newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">lalonde</span>,</span></span>
<span class="r-in"><span>                                  treat <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">p0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 943.9958</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

